<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=utf8"></meta>
    <script src="../lib/jquery-1.2.js"></script>
    <script src="../lib/Ebisu.js"></script>
    <title>Spread</title>
<style type="text/css">
body {
    background:black;
}
.fire {
    width:5px;
    height:5px;
    -moz-border-radius:5px;
    position:absolute;
    top:300px;
    left:0;
    background:#fff;
    color:red;
}
a#fire {
    float:right;
    font-size:24pt;
    color:white;
}
</style>
  </head>
  <body>
    <a id="fire" href="#">Click Here to start</a>
    <div id="sky"></div>
    <script type="text/javascript">

var total = 1000;
for(var i = 0;i < total; i++) {
    $("<div class='fire'> </div>").appendTo("#sky");
}

var i=0;
Ebisu("fire").to('div.fire').attach(
    function() {
        var left = 500 + i/(total/500) * Math.sin(i);
        var top  = 300 + i/(total/500) * Math.cos(i);
        var self = this;
        setTimeout(function() {
            $(self).animate({'left': left, 'top': top}, 12000);
        }, i * 100 ) ;
        i++;
    }
);

$("#fire").click(function() {
    Ebisu("fire").trigger();
})

    </script>
  </body>
</html>
